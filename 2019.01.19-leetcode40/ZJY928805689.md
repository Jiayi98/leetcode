## Note:
The only difference between 39 and 40 is that whether repeated elements are allowed. Thus the key is the start index for the next level.

"""

   
    /**
     * @param num: Given the candidate numbers
     * @param target: Given the target number
     * @return: All the combinations that sum to target
     */
    public List<List<Integer>> combinationSum2(int[] num, int target) {
        // write your code here
        List<List<Integer>> result = new ArrayList<>();
        if(num == null || num.length == 0){
            return result;
        }
        
        Arrays.sort(num);
        
        dfs(num, target, result, new ArrayList<>(), 0, 0);
        return result;
    }
    
    private void dfs(int[] can, int tgt,List<List<Integer>> res, List<Integer> set, int startIndex, int sum){
        
        if(sum == tgt){
            res.add(new ArrayList<>(set));
            return;
        }
        int prev = can[0] - 1; // 因为candidates里可以有重复的
        for(int i = startIndex; i < can.length; i++){ 
            if(can[i] == prev){
                continue;
            }
            prev = can[i];
            int curSum = sum + can[i];
            if(curSum > tgt){
                break;
            }
            set.add(can[i]);
            dfs(can, tgt, res, set, i + 1, curSum); // i+1是唯一的差别
            set.remove(set.size() - 1);
        }
    }



"""
